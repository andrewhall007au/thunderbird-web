---
phase: 10-real-trail-data
plan: 04
type: execute
wave: 2
depends_on: ["10-01"]
files_modified:
  - scripts/trail-curation/trail-lists/canada-trails.json
  - scripts/trail-curation/trail-lists/australia-trails.json
  - scripts/trail-curation/results/canada-trails.json
  - scripts/trail-curation/results/australia-trails.json
autonomous: true

must_haves:
  truths:
    - "25 curated Canadian trails have real coordinate data from OSM"
    - "50 curated Australian trails have real coordinate data, including at least 25 from Tasmania"
    - "Each trail has 50-200 simplified coordinate points"
    - "Distance validation completed for all trails"
  artifacts:
    - path: "scripts/trail-curation/trail-lists/canada-trails.json"
      provides: "Curated list of 25 top Canadian hiking trails with metadata"
    - path: "scripts/trail-curation/trail-lists/australia-trails.json"
      provides: "Curated list of 50 top Australian hiking trails with metadata, including 25 Tasmanian"
    - path: "scripts/trail-curation/results/canada-trails.json"
      provides: "Fetched and validated trail data for 25 Canadian trails"
    - path: "scripts/trail-curation/results/australia-trails.json"
      provides: "Fetched and validated trail data for 50 Australian trails"
  key_links:
    - from: "scripts/trail-curation/trail-lists/canada-trails.json"
      to: "scripts/trail-curation/batch-fetch.ts"
      via: "input file argument"
      pattern: "canada-trails.json"
    - from: "scripts/trail-curation/trail-lists/australia-trails.json"
      to: "scripts/trail-curation/batch-fetch.ts"
      via: "input file argument"
      pattern: "australia-trails.json"
---

<objective>
Curate and fetch real coordinate data for the top 25 Canadian and top 50 Australian (including 25 Tasmanian) hiking trails.

Purpose: Canada and Australia are launch markets alongside the US. This plan handles both smaller markets in one pass since they have fewer trails combined (75 total) than US alone (100).

Output: Validated trail data JSON files for Canada (25 trails) and Australia (50 trails) ready for integration.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-real-trail-data/10-RESEARCH.md

# Pipeline built in Plan 01
@.planning/phases/10-real-trail-data/10-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Curate and fetch Canadian trail data (25 trails)</name>
  <files>
    scripts/trail-curation/trail-lists/canada-trails.json
    scripts/trail-curation/results/canada-trails.json
  </files>
  <action>
1. Create `scripts/trail-curation/trail-lists/canada-trails.json` with 25 TrailInput entries for top Canadian trails:

   **Existing 10 (keep, upgrade coordinates):**
   Great Divide Trail, West Coast Trail, Skyline Trail (Jasper), Berg Lake Trail, Chilkoot Trail, Tonquin Valley, La Cloche Silhouette, Cape Chignecto, Sunshine Coast Trail, Rockwall Trail

   **Add 15 more:**
   - BC: Juan de Fuca Trail, Garibaldi Lake, Joffre Lakes, Stein Valley Traverse
   - Alberta: Plain of Six Glaciers, Lake Agnes/Big Beehive, Crypt Lake, Sentinel Pass
   - Ontario: Bruce Trail (section -- Niagara section or Bruce Peninsula section), Algonquin Highlands Backpacking Trail
   - Quebec: Sentier des Caps, Mont Jacques-Cartier
   - East Coast: East Coast Trail (NL), Fundy Footpath (NB), Cape Breton Highlands (Skyline Trail NS)

   For each: name, searchName (OSM name), region, country ("CA"), officialDistanceKm, typicalDays, bbox.

2. Run batch-fetch:
   ```
   npx tsx scripts/trail-curation/batch-fetch.ts scripts/trail-curation/trail-lists/canada-trails.json scripts/trail-curation/results/canada-trails.json
   ```

3. Review and retry failures. Target: at least 20/25 successful.

4. For any trails not in OSM, check Parks Canada / provincial park websites for downloadable GPX or trail coordinates. Note these for manual entry if needed.
  </action>
  <verify>
Count successful trails in results file. At least 20/25 should have real coordinates. List any failures with reasons.
  </verify>
  <done>
25 Canadian trails curated. At least 20 have real OSM coordinate data. Failures documented.
  </done>
</task>

<task type="auto">
  <name>Task 2: Curate and fetch Australian trail data (50 trails, 25+ Tasmanian)</name>
  <files>
    scripts/trail-curation/trail-lists/australia-trails.json
    scripts/trail-curation/results/australia-trails.json
  </files>
  <action>
1. Create `scripts/trail-curation/trail-lists/australia-trails.json` with 50 TrailInput entries. CRITICAL: at least 25 must be in Tasmania (region: "Tasmania").

   **Existing 10 AU trails (keep, upgrade):**
   Overland Track (TAS), Larapinta Trail (NT), Cape to Cape Track (WA), Bibbulmun Track (WA), Great Ocean Walk (VIC), Western Arthurs (TAS), Thorsborne Trail (QLD), Heysen Trail (SA), Freycinet Circuit (TAS), Three Capes Track (TAS)

   **Tasmania (add 21 more to reach 25 total -- 4 existing TAS trails above):**
   South Coast Track, Frenchmans Cap, Mt Anne Circuit, Walls of Jerusalem, Cradle Mountain Summit, Mt Field (Tarn Shelf), Cape Pillar, Tasman Coastal Trail, Bay of Fires Walk, Wineglass Bay, Maria Island Walk, Mt Ossa, Labyrinth (Pine Valley), Hartz Peak, Dove Lake Circuit, Weldborough to Pub, Cape Hauy, Precipitous Bluff, Federation Peak approach, Southwest Cape, Arm River Track

   **Mainland Australia (add 15 more to reach 25 mainland):**
   - NSW: Blue Mountains Six Foot Track, Royal National Park Coast Walk, Overland Track (Kosciuszko Main Range Walk), Mt Kosciuszko Summit, Bondi to Coogee (urban but iconic)
   - VIC: Grampians Peaks Trail, Wilsons Promontory Southern Circuit, Mt Feathertop
   - QLD: Gold Coast Hinterland Trail, Scenic Rim Trail, Cooloola Great Walk
   - WA: Stirling Ridge Walk, Mt Trio
   - NT: Jatbula Trail, Rim Walk (Kings Canyon)
   - SA: Kangaroo Island Wilderness Trail

   For each: name, searchName, region (state), country ("AU"), officialDistanceKm, typicalDays, bbox.

2. Run batch-fetch:
   ```
   npx tsx scripts/trail-curation/batch-fetch.ts scripts/trail-curation/trail-lists/australia-trails.json scripts/trail-curation/results/australia-trails.json
   ```

3. Review results. Tasmania OSM coverage may be spotty -- for Tasmanian trails that fail:
   - Try alternate search terms (many TAS trails use "track" not "trail")
   - Try searching for the specific park name + track name
   - Note: Tasmania Parks and Wildlife Service publishes some trail data that may be available as open data

4. Retry failures. Target: at least 40/50 successful (at least 20/25 Tasmanian).
  </action>
  <verify>
Count successful trails in results file. At least 40/50 total, at least 20/25 Tasmanian. List failures with reasons. Verify no duplicate trails between TAS and mainland.
  </verify>
  <done>
50 Australian trails curated (25+ Tasmanian). At least 40 have real OSM coordinate data. Tasmanian coverage verified with at least 20 successful. Failures documented.
  </done>
</task>

</tasks>

<verification>
1. canada-trails.json contains exactly 25 trail entries
2. australia-trails.json contains exactly 50 trail entries, with at least 25 having region containing "Tasmania" or "TAS"
3. At least 80% success rate from OSM queries for each country
4. No duplicates between the two country lists
5. All trail entries have officialDistanceKm populated
</verification>

<success_criteria>
- 25 Canadian trails curated with at least 20 having real OSM data
- 50 Australian trails curated with at least 25 Tasmanian, at least 40 having real OSM data
- Each successful trail has 50-200 simplified coordinate points
- Distance validation completed for all successful trails
- Failures documented with resolution approach
</success_criteria>

<output>
After completion, create `.planning/phases/10-real-trail-data/10-04-SUMMARY.md`
</output>
