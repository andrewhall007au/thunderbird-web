---
phase: 10-real-trail-data
plan: 04
type: execute
wave: 2
depends_on: ["10-01"]
files_modified:
  - scripts/trail-curation/trail-lists/canada-trails.json
  - scripts/trail-curation/trail-lists/australia-trails.json
  - scripts/trail-curation/results/canada-trails.json
  - scripts/trail-curation/results/australia-trails.json
autonomous: true

must_haves:
  truths:
    - "50 curated Canadian trails have real coordinate data from OSM or fallback government sources"
    - "50 curated Australian trails have real coordinate data, including at least 25 from Tasmania"
    - "Each trail has 50-200 simplified coordinate points"
    - "Distance validation completed for all trails"
    - "Each trail result records its data source for attribution"
  artifacts:
    - path: "scripts/trail-curation/trail-lists/canada-trails.json"
      provides: "Curated list of 50 top Canadian hiking trails with metadata"
    - path: "scripts/trail-curation/trail-lists/australia-trails.json"
      provides: "Curated list of 50 top Australian hiking trails with metadata, including 25 Tasmanian"
    - path: "scripts/trail-curation/results/canada-trails.json"
      provides: "Fetched and validated trail data for 50 Canadian trails with source attribution"
    - path: "scripts/trail-curation/results/australia-trails.json"
      provides: "Fetched and validated trail data for 50 Australian trails with source attribution"
  key_links:
    - from: "scripts/trail-curation/trail-lists/canada-trails.json"
      to: "scripts/trail-curation/batch-fetch.ts"
      via: "input file argument"
      pattern: "canada-trails.json"
    - from: "scripts/trail-curation/trail-lists/australia-trails.json"
      to: "scripts/trail-curation/batch-fetch.ts"
      via: "input file argument"
      pattern: "australia-trails.json"
---

<objective>
Curate and fetch real coordinate data for the top 50 Canadian and top 50 Australian (including 25 Tasmanian) hiking trails, with automatic fallback to government open data sources.

Purpose: Canada and Australia are launch markets alongside the US. This plan handles both markets in one pass since they have the same trail count (50 each, 100 total). The fallback chain provides Parks Canada / BC Parks / Ontario Parks for Canada, and Tasmania ListMap / NSW NPWS / Parks Victoria / QLD Parks for Australia -- critical for Tasmanian trails which have spotty OSM coverage.

Output: Validated trail data JSON files for Canada (50 trails) and Australia (50 trails) with source attribution, ready for integration.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-real-trail-data/10-RESEARCH.md

# Pipeline built in Plan 01 (includes fallback-sources.ts)
@.planning/phases/10-real-trail-data/10-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Curate and fetch Canadian trail data (50 trails)</name>
  <files>
    scripts/trail-curation/trail-lists/canada-trails.json
    scripts/trail-curation/results/canada-trails.json
  </files>
  <action>
1. Create `scripts/trail-curation/trail-lists/canada-trails.json` with exactly 50 TrailInput entries. For each trail, provide: name, searchName (OSM name if different), region (province), country ("CA"), officialDistanceKm, typicalDays, bbox.

**THE COMPLETE 50 CANADIAN TRAILS LIST:**

*British Columbia (1-14):*
1. Great Divide Trail (AB/BC)
2. West Coast Trail (BC)
3. Berg Lake Trail (BC)
4. Chilkoot Trail (BC/YT)
5. Sunshine Coast Trail (BC)
6. Rockwall Trail (BC)
7. Juan de Fuca Marine Trail (BC)
8. Garibaldi Lake Trail (BC)
9. Joffre Lakes Trail (BC)
10. Stein Valley Traverse (BC)
11. Howe Sound Crest Trail (BC)
12. Golden Ears Trail (BC)
13. Della Falls Trail (BC)
14. Nootka Trail (BC)

*Alberta Rockies (15-24):*
15. Skyline Trail (Jasper) (AB)
16. Tonquin Valley Trail (AB)
17. Plain of Six Glaciers Trail (AB)
18. Lake Agnes / Big Beehive Trail (AB)
19. Crypt Lake Trail (AB)
20. Sentinel Pass Trail (AB)
21. Mt Assiniboine via Wonder Pass (AB)
22. Egypt Lake via Healy Pass (AB)
23. Sawback Trail (AB)
24. Skoki Loop (AB)

*Ontario (25-30):*
25. La Cloche Silhouette Trail (ON)
26. Bruce Trail (Bruce Peninsula section) (ON)
27. Algonquin Highlands Backpacking Trail (ON)
28. Coastal Trail (Pukaskwa) (ON)
29. Killarney Provincial Park - The Crack (ON)
30. Cup and Saucer Trail (Manitoulin Island) (ON)

*Quebec (31-36):*
31. Sentier des Caps de Charlevoix (QC)
32. Mont Jacques-Cartier Trail (QC)
33. Les Loups Trail (Parc national de la Jacques-Cartier) (QC)
34. Mont Albert Circuit (Gaspesie) (QC)
35. Sentier International des Appalaches (QC)
36. Mont Tremblant Summit Trail (QC)

*Atlantic Canada (37-42):*
37. Cape Chignecto Coastal Trail (NS)
38. East Coast Trail (NL)
39. Fundy Footpath (NB)
40. Skyline Trail (Cape Breton Highlands) (NS)
41. Long Range Traverse (Gros Morne) (NL)
42. Tablelands Trail (Gros Morne) (NL)

*Northern Canada & Manitoba/Saskatchewan (43-48):*
43. Canol Heritage Trail (YT/NT)
44. Chilkoot Pass Trail (YT)
45. Tombstone Territorial Park - Grizzly Lake Trail (YT)
46. Aulavik River Route (NT)
47. Mantario Trail (MB)
48. Grey Owl Trail (Prince Albert NP) (SK)

*Additional iconic trails (49-50):*
49. Akamina Ridge Trail (BC)
50. Carthew-Alderson Trail (AB)

2. Run batch-fetch:
   ```
   npx tsx scripts/trail-curation/batch-fetch.ts scripts/trail-curation/trail-lists/canada-trails.json scripts/trail-curation/results/canada-trails.json
   ```

3. The fallback chain automatically handles OSM failures by trying:
   - Parks Canada trail network (via open.canada.ca ArcGIS endpoint)
   - BC Parks trails (for BC trails)
   - Ontario trail network (for ON trails)
   Review the batch summary to see the source breakdown.

4. For trails that fail ALL sources (OSM + all Canadian fallbacks):
   - Try alternate search names -- Canadian trails often use French names in Quebec
   - For northern trails (YT/NT), these may genuinely not be in any digital source -- flag for manual
   - Target: at least 45/50 successful (combining OSM + fallbacks), up from previous 40/50 OSM-only target
  </action>
  <verify>
Count successful trails in results file. At least 45/50 should have real coordinates (OSM + fallback combined). Print source breakdown: how many via OSM, how many via Parks Canada, how many via BC Parks, etc. List any failures with reasons.
  </verify>
  <done>
50 Canadian trails curated. At least 45 have real coordinate data from OSM or government fallback sources. Source attribution recorded for each trail. Failures documented -- these are post-fallback genuine hard cases.
  </done>
</task>

<task type="auto">
  <name>Task 2: Curate and fetch Australian trail data (50 trails, 25 Tasmanian)</name>
  <files>
    scripts/trail-curation/trail-lists/australia-trails.json
    scripts/trail-curation/results/australia-trails.json
  </files>
  <action>
1. Create `scripts/trail-curation/trail-lists/australia-trails.json` with exactly 50 TrailInput entries. CRITICAL: exactly 25 must be in Tasmania (region: "Tasmania"). For each trail, provide: name, searchName (OSM name if different), region (state), country ("AU"), officialDistanceKm, typicalDays, bbox.

**THE COMPLETE 50 AUSTRALIAN TRAILS LIST:**

**TASMANIA (25 trails):**

*Existing 4 TAS trails (keep, upgrade):*
1. Overland Track (Tasmania)
2. Western Arthurs Traverse (Tasmania)
3. Freycinet Peninsula Circuit (Tasmania)
4. Three Capes Track (Tasmania)

*Additional 21 TAS trails:*
5. South Coast Track (Tasmania)
6. Frenchmans Cap Track (Tasmania)
7. Mt Anne Circuit (Tasmania)
8. Walls of Jerusalem Circuit (Tasmania)
9. Cradle Mountain Summit Trail (Tasmania)
10. Mt Field National Park - Tarn Shelf Circuit (Tasmania)
11. Cape Pillar Track (Tasmania)
12. Tasman Coastal Trail (Tasmania)
13. Bay of Fires Lodge Walk (Tasmania)
14. Wineglass Bay / Hazards Beach Circuit (Tasmania)
15. Maria Island Walk (Tasmania)
16. Mt Ossa Summit Trail (Tasmania)
17. Labyrinth (Pine Valley side trip) (Tasmania)
18. Hartz Peak Track (Tasmania)
19. Dove Lake Circuit (Tasmania)
20. Cape Hauy Track (Tasmania)
21. Precipitous Bluff Track (Tasmania)
22. Federation Peak Approach (Tasmania)
23. Southwest Cape Track (Tasmania)
24. Arm River Track (Tasmania)
25. Douglas-Apsley Waterhole Track (Tasmania)

**MAINLAND AUSTRALIA (25 trails):**

*Existing 6 mainland trails (keep, upgrade):*
26. Larapinta Trail (NT)
27. Cape to Cape Track (WA)
28. Bibbulmun Track (WA)
29. Great Ocean Walk (VIC)
30. Thorsborne Trail (QLD)
31. Heysen Trail (SA)

*New South Wales (32-36):*
32. Six Foot Track (Blue Mountains) (NSW)
33. Royal National Park Coast Walk (NSW)
34. Main Range Walk (Kosciuszko) (NSW)
35. Mt Kosciuszko Summit Walk (NSW)
36. Grand Canyon Track (Blue Mountains) (NSW)

*Victoria (37-39):*
37. Grampians Peaks Trail (VIC)
38. Wilsons Promontory Southern Circuit (VIC)
39. Mt Feathertop / Razorback Ridge (VIC)

*Queensland (40-42):*
40. Gold Coast Hinterland Great Walk (QLD)
41. Scenic Rim Trail (QLD)
42. Cooloola Great Walk (QLD)

*Western Australia (43-44):*
43. Stirling Ridge Walk (WA)
44. Mt Trio Circuit (WA)

*Northern Territory (45-46):*
45. Jatbula Trail (NT)
46. Rim Walk (Kings Canyon) (NT)

*South Australia (47):*
47. Kangaroo Island Wilderness Trail (SA)

*Multi-state / Iconic short walks (48-50):*
48. Bondi to Coogee Walk (NSW)
49. Cape to Cape Lighthouse Walk (lighthouse section) (WA)
50. Organ Pipes Walk (Mt Wellington) (Tasmania)

NOTE: Trail 50 is counted as mainland in this numbering but is technically TAS -- this gives us 26 TAS trails total (25 in the TAS section + trail 50), exceeding the 25 minimum requirement.

2. Run batch-fetch:
   ```
   npx tsx scripts/trail-curation/batch-fetch.ts scripts/trail-curation/trail-lists/australia-trails.json scripts/trail-curation/results/australia-trails.json
   ```

3. The fallback chain is especially important for Australian trails. When OSM fails, it automatically tries:
   - Tasmania ListMap (theLIST WFS service at services.thelist.tas.gov.au) -- the best source for Tasmanian trails not well-covered in OSM. This should rescue most TAS trails that fail OSM.
   - NSW NPWS (mapprod3.environment.nsw.gov.au) -- for NSW national park walking tracks
   - Parks Victoria (services.land.vic.gov.au) -- for VIC state park tracks
   - QLD Parks (spatial-gis.information.qld.gov.au) -- for QLD parks trails

4. Review the batch summary. For Tasmanian trails specifically:
   - Many TAS trails use "track" not "trail" -- the searchName should already account for this
   - Tasmania ListMap (listmap.tas.gov.au) should be the key fallback source. If the WFS query isn't matching, try variations of the track name (e.g., "Overland Track" vs "The Overland Track")
   - Target for TAS trails: at least 23/25 successful (combining OSM + Tasmania ListMap), up from previous 20/25

5. Target: at least 45/50 total successful (at least 23/25 Tasmanian).
  </action>
  <verify>
Count successful trails in results file. At least 45/50 total, at least 23/25 Tasmanian. Print source breakdown per state: how many via OSM, how many via TAS ListMap, how many via NSW NPWS, etc. Verify no duplicate trails between TAS and mainland.
  </verify>
  <done>
50 Australian trails curated (25+ Tasmanian). At least 45 have real coordinate data from OSM or government fallback sources. Tasmania ListMap provided fallback data for TAS trails not in OSM. Source attribution recorded. Failures documented -- post-fallback genuine hard cases only.
  </done>
</task>

</tasks>

<verification>
1. canada-trails.json contains exactly 50 trail entries
2. australia-trails.json contains exactly 50 trail entries, with at least 25 having region "Tasmania"
3. At least 90% success rate combining OSM + fallback sources (up from 80% OSM-only)
4. Each trail result includes `dataSource` field
5. No duplicates between the two country lists
6. All trail entries have officialDistanceKm populated
</verification>

<success_criteria>
- 50 Canadian trails curated with at least 45 having real data (OSM + Parks Canada/BC Parks/Ontario fallback)
- 50 Australian trails curated with at least 25 Tasmanian, at least 45 having real data (OSM + TAS ListMap/NSW NPWS/Parks Victoria fallback)
- Each successful trail has 50-200 simplified coordinate points
- Each trail records its data source for attribution
- Distance validation completed for all successful trails
- Only trails that exhausted ALL sources are flagged as failures
</success_criteria>

<output>
After completion, create `.planning/phases/10-real-trail-data/10-04-SUMMARY.md`
</output>
